<ion-header>
  <ion-toolbar mode="ios" class="modal-toolbar">
    <ion-buttons>
      <ion-title>Feedback</ion-title>
      <ion-button class="close" mode="ios" (click)="dismiss()">
        <ion-icon class="close" ios="md-close" md="md-close" slot="icon-only"></ion-icon>
      </ion-button>
      <ion-button [disabled]="!readyToSubmit" class="readySubmit" mode="ios" (click)="submitFeedback()">Submit
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-list>
    <div class="details" *ngFor="let item of questions, let i=index">
      <ion-label slot="start" class="question">{{item.question}}</ion-label>
      <ion-input style="display: none" id="question_{{ i }}">{{ item.id }}</ion-input>
      <ion-textarea *ngIf="i == 0" #question (ionChange)="validate_form()" (ionBlur)="setValidation($event, true)"
        (ionFocus)="setValidation($event, false)" id="c_{{ i }}" spellcheck="true" type="text" required rows="4"
         placeholder="Tell us what you found useful about the app."></ion-textarea>
      <ion-textarea *ngIf="i == 1" #question (ionChange)="validate_form()" (ionBlur)="setValidation($event, true)"
      (ionFocus)="setValidation($event, false)" id="c_{{ i }}" spellcheck="true" type="text" required rows="4"
       placeholder="Tell us what you think we can improve."></ion-textarea>
      <div class="validation-errors" id="validate_{{ i }}" style="display: none">
        <ng-container>
          <div class="error-message">
            <ion-icon class="error"></ion-icon>
            <ion-label id="errorMessage_{{ i }}"></ion-label>
          </div>
        </ng-container>
      </div>
    </div>
  </ion-list>
</ion-content>